{flow(A,B,1) : edge(A, B)}1 :- vertex(A).

reached(A) :- start(A).
:- not reached(A), stop(A).

reached(B) :- reached(A), flow(A,B,1).
:- flow(A,B,1), not reached(B).

:- flow(A,B,1), flow(C,B,1), A!=C.

#show flow/3.